(()=>{"use strict";function e(){const e=new Set,t=new Map,n=(e,n)=>{e.forEach((e=>{t.set(`${e[0]}${e[1]}`,n)}))},s=e=>{t.get(`${e[0]}${e[1]}`)},r=(e,t,n)=>{let s=[],r=+e[0],o=+e[1];if("x"==n){s.push([r-1,o-1]),s.push([r,o-1]),s.push([r+1,o-1]);for(let e=0;e<t;e++)s.push([r-1,o]),s.push([r,o]),s.push([r+1,o]),o+=1;s.push([r-1,o]),s.push([r,o]),s.push([r+1,o])}else{s.push([r-1,o-1]),s.push([r-1,o]),s.push([r-1,o+1]);for(let e=0;e<t;e++)s.push([r,o-1]),s.push([r,o]),s.push([r,o]+1),r+=1;s.push([r,o-1]),s.push([r,o]),s.push([r,o+1])}return s};return{board:t,placeShip:n,getShipOnCords:s,checkCordsForPlacement:(e,o,l,i)=>{let h=e[0],a=e[1];if(h>9||a>9||h<0||a<0)throw new Error;let c=[],u=!1;if(u=((e,n,s)=>{let o=r(e,n,s);for(let e=0;e<o.length;e++)if(null!=t.get(`${o[e][0]}${o[e][1]}`))return!1;return!0})(e,l,o),"x"==o){if(h+l>9)throw new Error;for(let e=0;e<l;e++){if(null!=s([h,a+e]))throw new Error;c.push([h,a+e])}}else{if(a+l>9)throw new Error;for(let e=0;e<l;e++){if(null!=s([h+e,a]))throw new Error;c.push([h+e,a])}}return 1==u&&n(c,i),u},fireAt:function(n,s){let o=`${n[0]}${n[1]}`;if(0==e.has(o)){e.add(o);let n=t.get(o);if(null!=n){let t=s.getShipList();console.log(this.shipFunction),t[n].hit(),1==t[n].isSunk()&&(r(t[n].start,t[n].length,t[n].axis).forEach((t=>{e.add(`${t[0]}${t[1]}`)})),delete t[n])}}return t.delete(o)}}}function t(){let e={};const t=function(e){return{length:e,hit_No:0,sunk:!1,hit:function(){if(!(this.hit_No<this.length))return!1;++this.hit_No},isSunk:function(){return this.length==this.hit_No&&(this.sunk=!0),this.sunk}}};return{allShips:e,newShip:t,addShipToAllShips:function(n,s,r){let o=Object.keys(e).length,l=t(n);return l.axis=s,l.start=r,e[`ship${o+1}`]=l,l},getShipList:function(){return e}}}e(),t();const n=document.querySelector(".how-to-play-button"),s=document.querySelector("main");console.log(n),n.addEventListener("click",(()=>{document.querySelector("#how-to-play-dialog").showModal()}));const r=function(){const e=document.createElement("div");e.className="ship-board";for(let t=0;t<10;t++)for(let n=0;n<10;n++){const s=document.createElement("div");s.className="cell",s.dataset.row=t,s.dataset.col=n,e.appendChild(s)}return e}(),o=document.createElement("div");o.className="player-ship-deploy-modal";const l=document.createElement("div");l.className="ship-grid-container";const i=document.createElement("div");i.className="ships-container";let h=["carrier","battleship","destroyer","submarine","patrol-boat"];for(let e=0;e<5;e++){const t=document.createElement("img");t.draggable=!0,t.src=`./images/${h[e]}.png`,t.alt=`${h[e]}-placeholder`,t.className="ship",t.id=h[e],i.appendChild(t)}const a=document.createElement("div");a.className="ship-deploy-grid-container";const c=document.createElement("span");c.textContent="Place your ships:",l.appendChild(c),l.appendChild(i);const u=document.createElement("div");u.className="ship-deploy-grid",a.appendChild(u),u.appendChild(r),o.appendChild(l),o.appendChild(a),s.appendChild(o),e(),t()})();
//# sourceMappingURL=main.ab5603489475bc5e0a60.js.map